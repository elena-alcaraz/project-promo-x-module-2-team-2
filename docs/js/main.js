const L=document.querySelector(".js_reset");function j(){e.palette=1,e.name="",e.job="",e.phone="",e.email="",e.linkedin="",e.github="",e.photo="",localStorage.removeItem("data")}function k(t){t.preventDefault(),b.reset(),m.innerHTML="Nombre Apellido",p.innerHTML="Front-end developer",l.classList.remove("palette2","palette3"),l.classList.add("palette1"),u.src="./images/beauty_girl1.png",d.style.backgroundImage="",j(),console.log(e)}L.addEventListener("click",k);const c=new FileReader,q=document.querySelector(".js__profile-upload-btn"),u=document.querySelector(".js__profile-image"),d=document.querySelector(".js__profile-preview");function w(t){const o=t.currentTarget.files[0];c.addEventListener("load",P),c.readAsDataURL(o)}function P(){u.src=c.result,d.style.backgroundImage=`url(${c.result})`,e.photo=c.result,localStorage.setItem("formData",JSON.stringify(e))}q.addEventListener("change",w);const I=document.querySelectorAll(".js_collapsable-header"),C=document.querySelectorAll(".form__box"),T=t=>{const n=t.currentTarget.parentNode;for(const r of C)r===n?r.classList.remove("collapsable--close"):r.classList.add("collapsable--close")};for(const t of I)t.addEventListener("click",T);const D=document.querySelector(".js-colors");D.addEventListener("change",E);function g(t){l.classList.remove("palette1","palette2","palette3"),t==="1"?l.classList.add("palette1"):t==="2"?l.classList.add("palette2"):l.classList.add("palette3")}function E(t){const o=t.target.value;g(o)}const b=document.querySelector(".js_form"),m=document.querySelector(".js__preview_name"),p=document.querySelector(".js__preview_job"),_=document.querySelector(".js__preview_mobile"),v=document.querySelector(".js__preview_mail"),y=document.querySelector(".js__preview_linkedin"),S=document.querySelector(".js__preview_github"),l=document.querySelector(".js-cardp"),s=document.querySelector(".js_create_button"),H=document.querySelector(".js_shareLinkContainer"),h=document.querySelector(".js_shareLink"),F=document.querySelector(".js_share_to_X"),f=document.querySelector(".js_shareErrorContainer");function M(t){t.preventDefault(),fetch("https://dev.adalab.es/api/card/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(o=>o.json()).then(o=>{console.log(o),o.success?(s.classList.remove("share_createcard-button"),s.classList.add("share_createcard-buttonclicked"),H.classList.remove("hidden"),h.href=o.cardURL,h.innerHTML=o.cardURL,F.href+=o.cardURL):(f.classList.remove("hidden"),f.innerHTML=o.error)})}s.addEventListener("click",M);const e={palette:"1",name:"",job:"",phone:"",email:"",linkedin:"",github:"",photo:""};function N(t){t.preventDefault();const o=t.target.id,n=J(o),r=t.target.value;if(console.log(n),e[n]=r,console.log(e),n==="name")m.innerHTML=r;else if(n==="job")p.innerHTML=r;else if(n==="phone")_.href=r,console.log("telefono");else if(n==="email")v.href=r;else if(n==="linkedin")y.href=r;else if(n==="github")S.href=r;else if(n==="photo"){const a=new FileReader,i=t.target.files[0];a.addEventListener("load",()=>{e.photo=a.result,localStorage.setItem("data",JSON.stringify(e))}),a.readAsDataURL(i)}localStorage.setItem("data",JSON.stringify(e))}const J=t=>t.includes("palette")?"palette":t;b.addEventListener("input",N);const O=()=>{const t=JSON.parse(localStorage.getItem("data"));t&&(A(t),R(),U(),B())};function A(t){e.palette=t.palette,e.name=t.name,e.job=t.job,e.phone=t.phone,e.email=t.email,e.linkedin=t.linkedin,e.github=t.github,e.photo=t.photo}function R(){const t=document.querySelector("#palette_green"),o=document.querySelector("#palette_red"),n=document.querySelector("#palette_blue");e.palette==="1"?t.checked=!0:e.palette==="2"?o.checked=!0:e.palette==="3"&&(n.checked=!0),g(e.palette)}function U(){m.innerHTML=e.name,p.innerHTML=e.job,_.href=e.phone,v.href=e.email,y.href=e.linkedin,S.href=e.github,e.photo.length>0&&(u.src=e.photo,d.style.backgroundImage=`url(${e.photo})`)}function B(){const t=document.querySelector("#name");t.value=e.name;const o=document.querySelector("#job");o.value=e.job;const n=document.querySelector("#email");n.value=e.email;const r=document.querySelector("#phone");r.value=e.phone;const a=document.querySelector("#linkedin");a.value=e.linkedin;const i=document.querySelector("#github");i.value=e.github}O();
//# sourceMappingURL=main.js.map
